(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5003],{4923:function(e,t,r){Promise.resolve().then(r.bind(r,6240))},6240:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return b}});var s=r(7437),a=r(1396),o=r.n(a),n=r(1490),l=r(7777),i=r(2265),u=r(7146),d=r(6998),c=r(4463),f=r(3333),m=r(7415),x=r(4033),h=r(2651);function b(){let e=new Date,[t,a]=(0,i.useState)(null),[b,p]=(0,i.useState)(!1),[g,v]=(0,i.useState)(null),[j,w]=(0,i.useState)(null),E=(0,x.useRouter)();return(0,i.useEffect)(()=>{w(e=>({...e,vet_questions:g}))},[g]),(0,i.useEffect)(()=>{let t=n.Z.get("analogueshifts"),r=n.Z.get("vetCreationData");if(t&&a(JSON.parse(n.Z.get("analogueshifts"))),r){let e=JSON.parse(r);w(e),v(e.vet_questions)}else{let t=[{id:"7931fb9f-7593-4ec1-8102-c64fe87fe414",question:"",type:"Short Text",answer:"",required:!1}];w({title:"",description:"",multi_response:!1,deadline:"".concat(e.getFullYear(),"-").concat((e.getMonth()+1).toString().padStart(2,"0"),"-").concat(e.getDate().toString().padStart(2,"0")),timeout:1e3,vet_questions:t}),v(t)}},[]),(0,s.jsxs)(l.Z,{user:t,header:(0,s.jsx)("h2",{className:"text-xl font-bold text-gray-800 leading-tight",children:"Vetting"}),children:[b&&(0,s.jsx)(f.Z,{}),(0,s.jsxs)("div",{className:"bg-[#FEFEFE] mt-2 border border-[#E7E7E7] h-max px-4 lg:px-10 py-5 rounded-3xl",children:[(0,s.jsxs)("div",{className:"w-full mb-7 flex justify-between items-center h-14",children:[(0,s.jsx)(o(),{href:"/tools/vet/create",className:"w-1/2 h-full relative before:absolute before:h-[5px] before:w-full before:bottom-0 before:left-0 before:bg-tremor-background-darkYellow flex justify-center before:rounded-2xl items-center text-tremor-brand-activeLink font-medium text-sm md:text-base",children:"Create Form"}),(0,s.jsx)(o(),{href:"/tools/vet/create/preview",className:"w-1/2 h-full  flex justify-center items-center text-tremor-brand-inActiveLink font-medium text-sm md:text-base",children:"Preview"})]}),j&&(0,s.jsx)(u.Z,{data:j,setData:w,newVetData:j})]}),(0,s.jsxs)("div",{className:"w-full mt-6   flex-wrap gap-5 flex justify-center md:justify-between items-center bg-[#FEFEFE] border border-[#E7E7E7] h-max px-4 lg:px-10 py-5 rounded-3xl",children:[(0,s.jsx)("span",{className:"font-medium md:text-lg text-base text-tremor-brand-boulder950",children:"Vet Questions"}),(0,s.jsxs)("button",{onClick:()=>{v(e=>[{id:crypto.randomUUID(),question:"",type:"Short Text",answer:"",required:!1},...e])},className:"h-10 cursor-pointer rounded-full px-8 flex justify-center items-center gap-3 border border-tremor-background-darkYellow font-normal md:text-base text-sm bg-transparent text-tremor-background-darkYellow",children:["Add question",(0,s.jsx)("i",{className:"fas fa-plus"})]})]}),g&&(0,s.jsx)("div",{className:"w-full mt-5",children:(0,s.jsx)(c.t.Group,{onReorder:v,values:g,children:g.map(e=>(0,s.jsx)(d.Z,{data:e,vetQuestions:g,setVetQuestions:v,newVetData:j},e.id))})}),(0,s.jsxs)("button",{onClick:()=>{if(""===j.title){m.toast.error("Each vet must have a title! kindly fill out the description form above.",h.D);return}for(let e of j.vet_questions)if(""===e.question.trim()){m.toast.error("Each Question must have a question value. Kindly review all questions",{position:"top-right",autoClose:3e3});return}let e=r(1630),s={method:"POST",url:"https://api.analogueshifts.com/api/tools/vetting/store_vet",headers:{Authorization:"Bearer "+t.token},data:j};p(!0),e.request(s).then(e=>{p(!1),m.toast.success("Your Vet Request Has Been Sent",h.D),n.Z.remove("vetCreationData"),E.push("/tools/vet")}).catch(e=>{m.toast.error(e.message,h.D),p(!1)})},className:"px-6 text-[#FEFEFE] mt-5 ml-auto text-base duration-300 hover:scale-105 font-normal flex items-center gap-2 h-10 bg-tremor-background-darkYellow rounded-full border-none cursor-pointer",children:["Create vet ",(0,s.jsx)("i",{className:"fas fa-plus"})]})]})}}},function(e){e.O(0,[3572,7902,1176,1630,413,2303,813,3141,8689,5969,7777,1615,2971,2472,1744],function(){return e(e.s=4923)}),_N_E=e.O()}]);